<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Devotionals | NEBC Teens Hub</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Quicksand:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>

    <style>
        :root {
            --torch-red: #ff1e1e;
            --fair-pink: #ffe8e8;
            --bittersweet: #ff7575;
            --cornflower-lilac: #ffacac;
            --coral-red: #ff3e3e;
            --mona-lisa: #ff8f8f;
            --persimmon: #ff5d5c;
            --your-pink: #ffc9c9;
            
            --primary: #ff5d5c;
            --secondary: #ff8f8f;
            --accent: #ff3e3e;
            --success: #4cd964;
            --warning: #ffcc00;
            --text: #f8f9fa;
            --text-light: #adb5bd;
            --bg: #121212;
            --card-bg: rgba(30, 30, 30, 0.8);
            --card-shadow: rgba(0, 0, 0, 0.3);
            --nav-bg: rgba(30, 30, 30, 0.95);
            --glow: 0 0 20px rgba(255, 93, 92, 0.5);
            --transition: all 0.3s ease;
        }

        .light-mode {
            --primary: #ff1e1e;
            --secondary: #ff7575;
            --accent: #ff3e3e;
            --text: #333333;
            --text-light: #6c757d;
            --bg: #f8f9fa;
            --card-bg: rgba(255, 255, 255, 0.8);
            --card-shadow: rgba(0, 0, 0, 0.1);
            --nav-bg: rgba(255, 255, 255, 0.95);
            --glow: 0 0 20px rgba(255, 30, 30, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            line-height: 1.6;
            overflow-x: hidden;
            transition: var(--transition);
            padding-bottom: 80px;
        }

        /* Ensure no horizontal scroll on small devices */
        html, body { overflow-x: hidden; }

        /* Prevent decorative shapes from causing overflow */
        .floating-shapes { overflow: hidden; }

        .container {
            max-width: 1200px;
            margin: 0 auto !important;
            padding: 0 20px;
        }

        /* Logo Section */
        .logo-container {
            position: absolute;
            top: 20px;
            left: 20px;
            z-index: 10;
            display: flex;
            align-items: center;
        }

        .logo {
            width: 50px;
            height: 50px;
            background: #121212;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-weight: bold;
            font-size: 1.2rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .logo-text {
            margin-left: 10px;
            color: white;
            font-weight: 700;
            font-size: 1.2rem;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }

        /* Header */
        .page-header {
            text-align: center;
            padding: 30px 20px 20px;
            margin-top: 70px;
        }

        .page-title {
            font-family: 'Quicksand', sans-serif;
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 10px;
            text-shadow: 0 2px 10px rgba(255, 93, 92, 0.2);
        }

        .page-subtitle {
            color: var(--text-light);
            font-size: 1.1rem;
            max-width: 600px;
            margin: 0 auto;
        }

        /* Featured Devotional */
        .featured-devotional {
            background: var(--card-bg);
            border-radius: 20px;
            overflow: hidden;
            margin: 30px 0;
            box-shadow: 0 10px 30px var(--card-shadow);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeUp 0.8s ease forwards;
            transition: var(--transition);
            display: flex;
        }

        .featured-devotional:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px var(--card-shadow), var(--glow);
        }

        @keyframes fadeUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .featured-image {
            flex: 0 0 40%;
            background-size: cover;
            background-position: center;
        }

        .featured-content {
            padding: 30px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            flex: 1;
        }

        .featured-badge {
            display: inline-block;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-bottom: 15px;
            align-self: flex-start;
        }

        .featured-title {
            font-family: 'Quicksand', sans-serif;
            font-size: 1.8rem;
            margin-bottom: 15px;
            color: var(--text);
        }

        .featured-excerpt {
            color: var(--text-light);
            margin-bottom: 20px;
            font-size: 1.1rem;
        }

        .read-btn {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            align-self: flex-start;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .read-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(255, 93, 92, 0.4);
        }

        /* Categories */
        .categories-section {
            margin: 40px 0 30px;
        }

        .categories-title {
            font-family: 'Quicksand', sans-serif;
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: var(--primary);
        }

        .categories-container {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
        }

        .category-chip {
            background: var(--card-bg);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 50px;
            padding: 10px 20px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: var(--transition);
            backdrop-filter: blur(10px);
            box-shadow: 0 5px 15px var(--card-shadow);
        }

        .category-chip:hover, .category-chip.active {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px var(--card-shadow), var(--glow);
        }

        /* Devotionals Grid */
        .devotionals-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin: 40px 0;
        }

        .devotional-card {
            background: var(--card-bg);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 8px 20px var(--card-shadow);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: var(--transition);
            opacity: 0;
            transform: translateY(20px);
            animation: fadeUp 0.8s ease forwards;
            animation-delay: calc(var(--delay) * 0.1s);
            cursor: pointer;
        }

        .devotional-card:hover {
            transform: translateY(-8px) rotate(1deg);
            box-shadow: 0 12px 25px var(--card-shadow), var(--glow);
        }

        .card-image {
            height: 180px;
            width: 100%;
            background-size: cover;
            background-position: center;
            position: relative;
        }

        .bookmark-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(255, 255, 255, 0.8);
            border: none;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: var(--transition);
            backdrop-filter: blur(5px);
        }

        .bookmark-btn:hover {
            background: white;
            transform: scale(1.1);
        }

        .bookmark-btn.bookmarked {
            color: var(--accent);
        }

        .card-content {
            padding: 20px;
        }

        .card-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--text);
            font-size: 1.2rem;
        }

        .card-preview {
            color: var(--text-light);
            font-size: 0.9rem;
            margin-bottom: 15px;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .card-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .card-category {
            font-size: 0.8rem;
            color: var(--text-light);
            background: rgba(255, 93, 92, 0.1);
            padding: 4px 10px;
            border-radius: 20px;
        }

        /* Devotional Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            padding: 20px;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .devotional-modal {
            background: var(--card-bg);
            width: 90%;
            max-width: 700px;
            max-height: 90vh;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transform: translateY(50px) scale(0.9);
            opacity: 0;
            transition: var(--transition);
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .modal-overlay.active .devotional-modal {
            transform: translateY(0) scale(1);
            opacity: 1;
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.8);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.2rem;
            color: var(--text);
            cursor: pointer;
            transition: var(--transition);
            z-index: 10;
            backdrop-filter: blur(5px);
        }

        .modal-close:hover {
            background: white;
            transform: rotate(90deg);
        }

        .modal-image {
            height: 200px;
            width: 100%;
            background-size: cover;
            background-position: center;
        }

        .modal-content {
            padding: 25px;
            overflow-y: auto;
            flex-grow: 1;
        }

        .modal-title {
            font-family: 'Quicksand', sans-serif;
            font-size: 1.8rem;
            color: var(--text);
            margin-bottom: 15px;
        }

        .modal-scripture {
            font-style: italic;
            color: var(--primary);
            margin-bottom: 20px;
            padding: 10px 15px;
            background: rgba(255, 93, 92, 0.1);
            border-radius: 10px;
            border-left: 4px solid var(--primary);
        }

        .modal-text {
            color: var(--text);
            line-height: 1.7;
            margin-bottom: 25px;
        }

        .modal-actions {
            display: flex;
            justify-content: space-between;
            padding: 20px 25px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .share-btn, .modal-bookmark-btn {
            background: var(--card-bg);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: var(--text);
            padding: 10px 20px;
            border-radius: 10px;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .share-btn:hover, .modal-bookmark-btn:hover {
            background: rgba(255, 93, 92, 0.1);
            transform: translateY(-2px);
        }

        .modal-bookmark-btn.bookmarked {
            color: var(--accent);
        }

        /* Bottom Engagement Section */
        .engagement-section {
            margin: 60px 0 40px;
        }

        .section-title {
            font-family: 'Quicksand', sans-serif;
            font-size: 1.8rem;
            margin: 40px 0 20px;
            color: var(--primary);
            position: relative;
            display: inline-block;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 50%;
            height: 4px;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            border-radius: 2px;
        }

        .engagement-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .engagement-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px var(--card-shadow);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: var(--transition);
            opacity: 0;
            transform: translateY(20px);
            animation: fadeUp 0.8s ease forwards;
            animation-delay: calc(var(--delay) * 0.1s);
            position: relative;
            overflow: hidden;
        }

        .engagement-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px var(--card-shadow), var(--glow);
        }

        .card-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .card-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 1.5rem;
            margin-right: 15px;
            box-shadow: 0 5px 15px rgba(255, 93, 92, 0.3);
        }

        .card-heading {
            font-family: 'Quicksand', sans-serif;
            font-size: 1.4rem;
            color: var(--text);
        }

        /* Quiz Card */
        .quiz-container {
            position: relative;
            height: 300px;
            perspective: 1000px;
        }

        .quiz-card {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transform: rotateY(180deg);
            transition: transform 0.8s ease, opacity 0.8s ease, visibility 0.8s ease;
            pointer-events: none;
        }

        .quiz-card.active {
            opacity: 1;
            visibility: visible;
            transform: rotateY(0);
            pointer-events: auto;
        }

        .quiz-question {
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--text);
            font-size: 1.1rem;
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 20px;
        }

        .quiz-option {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 12px 15px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .quiz-option:hover {
            transform: translateX(5px);
            background: rgba(255, 93, 92, 0.1);
        }

        .quiz-option.correct {
            background: rgba(76, 217, 100, 0.2);
            border-color: var(--success);
            box-shadow: 0 0 15px rgba(76, 217, 100, 0.3);
        }

        .quiz-option.incorrect {
            background: rgba(255, 107, 139, 0.2);
            border-color: var(--accent);
            animation: shake 0.5s ease;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            20%, 60% { transform: translateX(-5px); }
            40%, 80% { transform: translateX(5px); }
        }

        .quiz-progress {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-top: 15px;
        }

        .progress-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transition: var(--transition);
        }

        .progress-dot.active {
            background: var(--primary);
        }

        /* Discussion Card */
        .discussion-question {
            margin-bottom: 20px;
            color: var(--text);
            line-height: 1.6;
        }

        .response-input {
            width: 100%;
            padding: 15px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.1);
            color: var(--text);
            font-family: 'Poppins', sans-serif;
            margin-bottom: 15px;
            resize: vertical;
            min-height: 100px;
            transition: var(--transition);
        }

        .response-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(255, 93, 92, 0.2);
        }

        .send-btn {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            width: 100%;
        }

        .send-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(255, 93, 92, 0.4);
        }

        /* Fun Facts Card */
        .fun-facts-container {
            position: relative;
            height: 200px;
            overflow: hidden;
            border-radius: 15px;
            perspective: 1000px;
        }

        .fun-fact {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border-radius: 15px;
            opacity: 0;
            transform: rotateY(180deg);
            transition: transform 0.8s ease, opacity 0.8s ease;
        }

        .fun-fact.active {
            opacity: 1;
            transform: rotateY(0);
        }

        .fun-fact-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }

        .fun-fact-text {
            font-size: 1.1rem;
            font-weight: 500;
        }

        /* Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: var(--nav-bg);
            backdrop-filter: blur(15px);
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            justify-content: space-around;
            padding: 15px 0;
            z-index: 100;
            box-shadow: 0 -5px 20px rgba(0, 0, 0, 0.05);
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: var(--text-light);
            transition: var(--transition);
            position: relative;
        }

        .nav-item.active {
            color: var(--primary);
        }

        .nav-icon {
            font-size: 1.5rem;
            margin-bottom: 5px;
            transition: var(--transition);
        }

        .nav-item.active .nav-icon {
            transform: translateY(-5px);
        }

        .nav-label {
            font-size: 0.7rem;
            font-weight: 500;
        }

        .nav-indicator {
            position: absolute;
            top: -10px;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: var(--primary);
            opacity: 0;
            transition: var(--transition);
        }

        .nav-item.active .nav-indicator {
            opacity: 1;
        }

        /* Theme Toggle */
        .theme-toggle {
            position: fixed;
            top: calc(20px + env(safe-area-inset-top));
            right: calc(20px + env(safe-area-inset-right));
            width: 50px;
            height: 50px;
            background: var(--card-bg);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 5px 15px var(--card-shadow);
            cursor: pointer;
            z-index: 100;
            transition: var(--transition);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .theme-toggle:hover {
            transform: rotate(30deg);
        }

        .theme-icon {
            font-size: 1.3rem;
            color: var(--text);
        }

        /* Floating Shapes */
        .floating-shapes {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .shape {
            position: absolute;
            opacity: 0.1;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            animation: float 15s infinite linear;
        }

        .sparkle {
            position: absolute;
            color: white;
            font-size: 1.5rem;
            opacity: 0.7;
            animation: sparkle 3s infinite ease-in-out;
        }

        @keyframes float {
            0% { transform: translate(0, 0) rotate(0deg); }
            25% { transform: translate(20px, 50px) rotate(90deg); }
            50% { transform: translate(0, 100px) rotate(180deg); }
            75% { transform: translate(-20px, 50px) rotate(270deg); }
            100% { transform: translate(0, 0) rotate(360deg); }
        }

        @keyframes sparkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.2); }
        }

        @media (max-width: 480px) {
            .theme-toggle {
                width: 44px;
                height: 44px;
                top: calc(12px + env(safe-area-inset-top));
                right: calc(12px + env(safe-area-inset-right));
            }

            .floating-shapes { display: block; opacity: 0.8; transform: scale(0.9); }
        }

        /* Success Modal */
        .success-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .success-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .success-content {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transform: scale(0.8);
            opacity: 0;
            transition: var(--transition);
            max-width: 400px;
            width: 90%;
        }

        .success-modal.active .success-content {
            transform: scale(1);
            opacity: 1;
        }

        .success-icon {
            font-size: 4rem;
            color: var(--success);
            margin-bottom: 20px;
        }

        .success-message {
            font-size: 1.2rem;
            margin-bottom: 20px;
            color: var(--text);
        }

        .ok-btn {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .ok-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(255, 93, 92, 0.4);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .devotionals-grid {
                grid-template-columns: 1fr;
            }
            
            .engagement-cards {
                grid-template-columns: 1fr;
            }
            
            .page-title {
                font-size: 2rem;
            }
            
            .featured-devotional {
                flex-direction: column;
            }
            
            .featured-image {
                height: 200px;
                flex: none;
            }
        }
    </style>
</head>
<body class="dark-mode">
    <!-- Floating Shapes for Background -->
    <div class="floating-shapes">
        <div class="shape" style="width: 80px; height: 80px; top: 10%; left: 10%; animation-delay: 0s;"></div>
        <div class="shape" style="width: 120px; height: 120px; top: 60%; left: 80%; animation-delay: -5s;"></div>
        <div class="shape" style="width: 60px; height: 60px; top: 80%; left: 20%; animation-delay: -10s;"></div>
        <div class="shape" style="width: 100px; height: 100px; top: 30%; left: 70%; animation-delay: -2s;"></div>
        <div class="shape" style="width: 70px; height: 70px; top: 70%; left: 60%; animation-delay: -7s;"></div>
        <div class="shape" style="width: 90px; height: 90px; top: 40%; left: 30%; animation-delay: -12s;"></div>
        <div class="shape" style="width: 50px; height: 50px; top: 20%; left: 50%; animation-delay: -4s;"></div>
        <div class="shape" style="width: 110px; height: 110px; top: 50%; left: 10%; animation-delay: -9s;"></div>
        <div class="shape" style="width: 85px; height: 85px; top: 15%; left: 85%; animation-delay: -6s;"></div>
        <div class="shape" style="width: 95px; height: 95px; top: 65%; left: 15%; animation-delay: -8s;"></div>
        
        <div class="sparkle" style="top: 20%; left: 15%; animation-delay: 0s;">✨</div>
        <div class="sparkle" style="top: 70%; left: 85%; animation-delay: -1s;">✨</div>
        <div class="sparkle" style="top: 40%; left: 90%; animation-delay: -2s;">✨</div>
        <div class="sparkle" style="top: 80%; left: 10%; animation-delay: -3s;">✨</div>
        <div class="sparkle" style="top: 25%; left: 75%; animation-delay: -4s;">✨</div>
        <div class="sparkle" style="top: 55%; left: 25%; animation-delay: -5s;">✨</div>
        <div class="sparkle" style="top: 85%; left: 65%; animation-delay: -6s;">✨</div>
        <div class="sparkle" style="top: 35%; left: 45%; animation-delay: -7s;">✨</div>
    </div>

    <!-- Logo Section -->
    <div class="logo-container">
        <div class="logo">
            <img src="images/LOGO.png" width="100%" height="100%" alt="NEBC TEENS LOGO">
        </div>
        <div class="logo-text">NEBC Teens</div>
    </div>

    <!-- Theme Toggle -->
    <div class="theme-toggle" id="themeToggle">
        <i class="fas fa-sun theme-icon"></i>
    </div>

    <!-- Page Header -->
    <header class="page-header">
        <h1 class="page-title">Devotionals</h1>
        <p class="page-subtitle">Short, inspiring messages for your daily walk with God</p>
    </header>

    <!-- Featured Devotional -->
    <section class="container">
        <div class="featured-devotional">
            <div class="featured-image" style="background-image: url('https://images.unsplash.com/photo-1544764243-13a3d1554b4a?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80')"></div>
            <div class="featured-content">
                <span class="featured-badge">Today's Devotional</span>
                <h2 class="featured-title">Walking With God in School</h2>
                <p class="featured-excerpt">Discover how to maintain your faith and shine God's light in the hallways, classrooms, and social situations at school, even when it feels challenging.</p>
                <button class="read-btn" id="readFeatured">
                    <i class="fas fa-book-open"></i> Read Now
                </button>
            </div>
        </div>
    </section>

    <!-- Categories -->
    <section class="container categories-section">
        <h3 class="categories-title">Browse by Category</h3>
        <div class="categories-container">
            <div class="category-chip active" data-category="all">All</div>
            <div class="category-chip" data-category="faith">Faith</div>
            <div class="category-chip" data-category="purpose">Purpose</div>
            <div class="category-chip" data-category="godslove">God's Love</div>
            <div class="category-chip" data-category="wisdom">Wisdom</div>
            <div class="category-chip" data-category="teenlife">Teen Life</div>
        </div>
    </section>

    <!-- Devotionals Grid -->
    <section class="container">
        <div class="devotionals-grid" id="devotionalsGrid">
            <!-- Devotional cards will be generated by JavaScript -->
        </div>
    </section>

    <!-- Bottom Engagement Section -->
    <section class="container engagement-section">
        <h2 class="section-title">Engage & Grow</h2>
        <div class="engagement-cards">
            <!-- Bible Quiz Card -->
            <div class="engagement-card" style="--delay: 1">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-question-circle"></i>
                    </div>
                    <h3 class="card-heading">Bible Quiz of the Day</h3>
                </div>
                <div class="quiz-container" id="quizContainer">
                    <!-- Quiz cards will be generated by JavaScript -->
                </div>
            </div>

            <!-- Discussion Question Card -->
            <div class="engagement-card" style="--delay: 2">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-comments"></i>
                    </div>
                    <h3 class="card-heading">Teen Discussion Question</h3>
                </div>
                <p class="discussion-question">What's one way you've seen God work in your life this week, even in a small way?</p>
                <textarea class="response-input" placeholder="Share your thoughts here..."></textarea>
                <button class="send-btn" id="sendResponse">
                    <i class="fas fa-paper-plane"></i> Send Response
                </button>
            </div>

            <!-- Fun Facts Card -->
            <div class="engagement-card" style="--delay: 3">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-lightbulb"></i>
                    </div>
                    <h3 class="card-heading">Did You Know?</h3>
                </div>
                <div class="fun-facts-container">
                    <div class="fun-fact active">
                        <div class="fun-fact-icon">
                            <i class="fas fa-book"></i>
                        </div>
                        <p class="fun-fact-text">The Bible was written over a span of 1,500 years by 40 different authors.</p>
                    </div>
                    <div class="fun-fact">
                        <div class="fun-fact-icon">
                            <i class="fas fa-fish"></i>
                        </div>
                        <p class="fun-fact-text">The story of Jonah being swallowed by a big fish is only 4 chapters long.</p>
                    </div>
                    <div class="fun-fact">
                        <div class="fun-fact-icon">
                            <i class="fas fa-rainbow"></i>
                        </div>
                        <p class="fun-fact-text">The first rainbow was a sign of God's promise to never flood the earth again.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Devotional Modal -->
    <div class="modal-overlay" id="devotionalModal">
        <div class="devotional-modal">
            <button class="modal-close" id="modalClose">&times;</button>
            <div class="modal-image" id="modalImage"></div>
            <div class="modal-content">
                <h2 class="modal-title" id="modalTitle">Walking With God in School</h2>
                <p class="modal-scripture" id="modalScripture">"Let your light shine before others, that they may see your good deeds and glorify your Father in heaven." - Matthew 5:16</p>
                <div class="modal-text" id="modalText">
                    <p>Walking with God in school isn't about being perfect or having all the answers. It's about letting His love and light shine through you in your everyday interactions. Whether you're in the classroom, at lunch, or participating in extracurricular activities, you have opportunities to reflect God's character.</p>
                    <p>When faced with difficult situations or peer pressure, remember that you're never alone. God is with you, and He's given you the Holy Spirit to guide and strengthen you. Simple acts of kindness, integrity in your work, and respectful conversations can all be powerful witnesses to those around you.</p>
                    <p>Don't be afraid to be different. Standing up for what's right, showing compassion to those who are left out, and maintaining a positive attitude even when things get tough - these are all ways you can walk with God throughout your school day. Your faith isn't just for church; it's for every moment of your life.</p>
                </div>
            </div>
            <div class="modal-actions">
                <button class="share-btn" id="shareDevotional">
                    <i class="fas fa-share-alt"></i> Share
                </button>
                <button class="modal-bookmark-btn" id="modalBookmark">
                    <i class="far fa-bookmark"></i> Bookmark
                </button>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div class="success-modal" id="successModal">
        <div class="success-content">
            <div class="success-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            <p class="success-message" id="successMessage">Your response has been sent successfully!</p>
            <button class="ok-btn" id="okBtn">OK</button>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <a href="index.html" class="nav-item">
            <span class="nav-indicator"></span>
            <i class="fas fa-home nav-icon"></i>
            <span class="nav-label">Home</span>
        </a>
        <a href="motivation.html" class="nav-item">
            <span class="nav-indicator"></span>
            <i class="fas fa-fire nav-icon"></i>
            <span class="nav-label">Boost</span>
        </a>
        <a href="devotional.html" class="nav-item active">
            <span class="nav-indicator"></span>
            <i class="fas fa-book-open nav-icon"></i>
            <span class="nav-label">Devotionals</span>
        </a>
        <a href="ask.html" class="nav-item">
            <span class="nav-indicator"></span>
            <i class="fas fa-question-circle nav-icon"></i>
            <span class="nav-label">Ask</span>
        </a>
        <a href="bible _plan.html" class="nav-item">
            <span class="nav-indicator"></span>
            <i class="fas fa-calendar-check nav-icon"></i>
            <span class="nav-label">Plans</span>
        </a>
        <a href="blog.html" class="nav-item">
            <span class="nav-indicator"></span>
            <i class="fas fa-blog nav-icon"></i>
            <span class="nav-label">Blog</span>
        </a>
    </nav>
    
<script>
    // Devotionals Data
    const devotionals = [
        {
            id: 1,
            title: "Walking With God in School",
            category: "teenlife",
            image: "https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
            preview: "Discover how to maintain your faith and shine God's light in the hallways, classrooms, and social situations at school...",
            scripture: "Matthew 5:16",
            content: "Walking with God in school isn't about being perfect or having all the answers. It's about letting His love and light shine through you in your everyday interactions. Whether you're in the classroom, at lunch, or participating in extracurricular activities, you have opportunities to reflect God's character. When faced with difficult situations or peer pressure, remember that you're never alone. God is with you, and He's given you the Holy Spirit to guide and strengthen you. Simple acts of kindness, integrity in your work, and respectful conversations can all be powerful witnesses to those around you. Don't be afraid to be different. Standing up for what's right, showing compassion to those who are left out, and maintaining a positive attitude even when things get tough - these are all ways you can walk with God throughout your school day. Your faith isn't just for church; it's for every moment of your life."
        },
        {
            id: 2,
            title: "Overcoming Fear as a Teen",
            category: "faith",
            image: "https://images.unsplash.com/photo-1544764243-13a3d1554b4a?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
            preview: "Learn practical ways to combat fear and anxiety with God's promises and find peace in the midst of life's challenges...",
            scripture: "2 Timothy 1:7",
            content: "Fear is a natural human emotion, but as believers, we don't have to be controlled by it. God has given us a spirit of power, love, and a sound mind. When fear tries to creep in, remember that God is bigger than any situation you're facing. His perfect love casts out all fear. Practical steps to overcome fear include praying specifically about what worries you, reading God's promises in Scripture, and talking to a trusted Christian friend or mentor. Remember that courage isn't the absence of fear, but moving forward in spite of it, trusting that God is with you every step of the way."
        },
        {
            id: 3,
            title: "How to Stay Focused in Christ",
            category: "wisdom",
            image: "https://images.unsplash.com/photo-1544764243-13a3d1554b4a?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
            preview: "In a world full of distractions, discover spiritual practices that will help you keep your eyes fixed on Jesus...",
            scripture: "Hebrews 12:2",
            content: "In our fast-paced, technology-driven world, it's easy to get distracted from what truly matters. Staying focused on Christ requires intentionality. Start your day with prayer and Scripture reading, even if it's just for a few minutes. Throughout the day, practice the presence of God by talking to Him in your thoughts and acknowledging Him in your activities. Limit distractions by being mindful of how much time you spend on social media and entertainment. Instead, fill your mind with things that are true, noble, right, pure, lovely, and admirable. When you feel your focus shifting, gently redirect your thoughts back to Jesus, remembering that He is the author and perfecter of your faith."
        },
        {
            id: 4,
            title: "Finding Your Identity in God",
            category: "purpose",
            image: "https://images.unsplash.com/photo-1544764243-13a3d1554b4a?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
            preview: "Discover who you truly are when you stop looking to the world for validation and start seeing yourself through God's eyes...",
            scripture: "Ephesians 2:10",
            content: "In a world that constantly tries to define you by your appearance, achievements, or social status, it's crucial to remember that your true identity is found in Christ. You are not what others say about you; you are who God says you are. Scripture tells us that you are fearfully and wonderfully made, chosen, loved, and called for a purpose. When you feel insecure or uncertain about who you are, turn to God's Word for reassurance. Your worth isn't based on what you do, but on who you are in Christ - a beloved child of God. Embrace this identity and let it shape how you see yourself and interact with the world around you."
        },
        {
            id: 5,
            title: "God's Unconditional Love",
            category: "godslove",
            image: "https://images.unsplash.com/photo-1544764243-13a3d1554b4a?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
            preview: "Explore the depth of God's love for you - a love that isn't based on your performance but on His character...",
            scripture: "Romans 8:38-39",
            content: "God's love for you is unlike any love you've ever experienced. It's not based on what you do or don't do; it's based on who He is. Nothing can separate you from His love - not your mistakes, not your doubts, not your failures. His love is constant, unwavering, and unconditional. When you feel unworthy or unloved, remember that God demonstrated His love for you by sending Jesus to die for you while you were still a sinner. You don't have to earn His love; you simply need to receive it. Rest in the assurance that you are deeply loved by the Creator of the universe, and let that truth transform how you see yourself and how you love others."
        },
        {
            id: 6,
            title: "Living With Purpose",
            category: "purpose",
            image: "https://images.unsplash.com/photo-1544764243-13a3d1554b4a?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
            preview: "Discover how to find and fulfill God's unique purpose for your life, even as a teenager...",
            scripture: "Jeremiah 29:11",
            content: "God has a unique purpose for your life, and He wants to reveal it to you as you seek Him. Your purpose isn't just about what you'll do in the future; it's about who you're becoming right now. Start by developing a close relationship with God through prayer and reading His Word. Pay attention to the passions and talents He has given you - these are clues to your purpose. Look for opportunities to serve others and make a difference in your school, family, and community. Remember that your purpose is ultimately about bringing glory to God and advancing His kingdom. Trust that as you follow Him step by step, He will guide you into the fullness of His plan for your life."
        }
    ];

    // Quiz Data
    const quizQuestions = [
        {
            question: "Who was thrown into a lion's den for praying to God?",
            options: [
                { text: "Moses", correct: false },
                { text: "Daniel", correct: true },
                { text: "David", correct: false },
                { text: "Jonah", correct: false }
            ]
        },
        {
            question: "How many books are in the New Testament?",
            options: [
                { text: "27", correct: true },
                { text: "39", correct: false },
                { text: "66", correct: false },
                { text: "12", correct: false }
            ]
        },
        {
            question: "What is the first book of the Bible?",
            options: [
                { text: "Exodus", correct: false },
                { text: "Genesis", correct: true },
                { text: "Matthew", correct: false },
                { text: "Psalms", correct: false }
            ]
        }
    ];

    // DOM Elements
    const devotionalsGrid = document.getElementById('devotionalsGrid');
    const categoryChips = document.querySelectorAll('.category-chip');
    const devotionalModal = document.getElementById('devotionalModal');
    const modalClose = document.getElementById('modalClose');
    const modalTitle = document.getElementById('modalTitle');
    const modalImage = document.getElementById('modalImage');
    const modalScripture = document.getElementById('modalScripture');
    const modalText = document.getElementById('modalText');
    const modalBookmark = document.getElementById('modalBookmark');
    const shareDevotional = document.getElementById('shareDevotional');
    const readFeatured = document.getElementById('readFeatured');
    const quizContainer = document.getElementById('quizContainer');
    const sendResponse = document.getElementById('sendResponse');
    const successModal = document.getElementById('successModal');
    const okBtn = document.getElementById('okBtn');
    const themeToggle = document.getElementById('themeToggle');
    const themeIcon = themeToggle.querySelector('.theme-icon');

    // Quiz click handler - delegate to quizContainer
    function handleQuizContainerClick(e) {
        const quizOption = e.target.closest('.quiz-option');
        if (quizOption) {
            handleQuizAnswer(quizOption);
        }
    }

    // Bookmarked devotionals
    let bookmarkedDevotionals = JSON.parse(localStorage.getItem('bookmarkedDevotionals')) || [];
    
    // Quiz state
    let currentQuizIndex = 0;
    let quizAnswered = false;

    // Initialize the page
    function initPage() {
        renderDevotionals();
        setupEventListeners();
        startFunFactsRotation();
        renderQuiz();
    }

    // Render devotionals to the grid
    function renderDevotionals(filter = 'all') {
        devotionalsGrid.innerHTML = '';
        
        const filteredDevotionals = filter === 'all' 
            ? devotionals 
            : devotionals.filter(devotional => devotional.category === filter);
        
        filteredDevotionals.forEach((devotional, index) => {
            const isBookmarked = bookmarkedDevotionals.includes(devotional.id);
            
            const devotionalCard = document.createElement('div');
            devotionalCard.className = 'devotional-card';
            devotionalCard.style.setProperty('--delay', index + 1);
            devotionalCard.innerHTML = `
                <div class="card-image" style="background-image: url('${devotional.image}')">
                    <button class="bookmark-btn ${isBookmarked ? 'bookmarked' : ''}" data-id="${devotional.id}">
                        <i class="${isBookmarked ? 'fas' : 'far'} fa-bookmark"></i>
                    </button>
                </div>
                <div class="card-content">
                    <h3 class="card-title">${devotional.title}</h3>
                    <p class="card-preview">${devotional.preview}</p>
                    <div class="card-footer">
                        <span class="card-category">${getCategoryName(devotional.category)}</span>
                        <button class="read-btn" data-id="${devotional.id}">
                            <i class="fas fa-book-open"></i> Read
                        </button>
                    </div>
                </div>
            `;



            devotionalsGrid.appendChild(devotionalCard);
        });
        
        // Add event listeners to the new cards
        document.querySelectorAll('.bookmark-btn').forEach(btn => {
            btn.addEventListener('click', handleBookmark);
        });
        
        document.querySelectorAll('.read-btn').forEach(btn => {
            if (btn.id !== 'readFeatured') {
                btn.addEventListener('click', handleReadDevotional);
            }
        });
    }

    // Render quiz questions
    function renderQuiz() {
        quizContainer.innerHTML = '';
        
        // Create progress dots
        const progressDots = document.createElement('div');
        progressDots.className = 'quiz-progress';
        quizQuestions.forEach((_, index) => {
            const dot = document.createElement('div');
            dot.className = `progress-dot ${index === 0 ? 'active' : ''}`;
            progressDots.appendChild(dot);
        });
        
        // Create quiz cards
        quizQuestions.forEach((question, index) => {
            const quizCard = document.createElement('div');
            quizCard.className = `quiz-card ${index === 0 ? 'active' : ''}`;
            quizCard.dataset.questionIndex = index;
            
            let optionsHTML = '';
            question.options.forEach((option, optIndex) => {
                optionsHTML += `
                    <div class="quiz-option" data-correct="${option.correct}">
                        <span>${String.fromCharCode(65 + optIndex)}.</span> ${option.text}
                    </div>
                `;
            });
            
            quizCard.innerHTML = `
                <p class="quiz-question">${question.question}</p>
                <div class="quiz-options">
                    ${optionsHTML}
                </div>
            `;
            quizContainer.appendChild(quizCard);
        });
        
        quizContainer.appendChild(progressDots);

        // Attach delegated click listener to quizContainer
        quizContainer.removeEventListener('click', handleQuizContainerClick);
        quizContainer.addEventListener('click', handleQuizContainerClick);
    }


    // Get category display name
    function getCategoryName(category) {
        const categoryNames = {
            'faith': 'Faith',
            'purpose': 'Purpose',
            'godslove': "God's Love",
            'wisdom': 'Wisdom',
            'teenlife': 'Teen Life'
        };
        return categoryNames[category] || category;
    }

    // Setup event listeners
    function setupEventListeners() {
        // Category filtering
        categoryChips.forEach(chip => {
            chip.addEventListener('click', () => {
                categoryChips.forEach(c => c.classList.remove('active'));
                chip.classList.add('active');
                renderDevotionals(chip.dataset.category);
            });
        });
        
        // Modal close
        modalClose.addEventListener('click', () => {
            devotionalModal.classList.remove('active');
        });
        
        // Read featured devotional
        readFeatured.addEventListener('click', () => {
            openDevotionalModal(devotionals[0]);
        });
        
        // Bookmark in modal
        modalBookmark.addEventListener('click', handleModalBookmark);
        
        // Share devotional
        shareDevotional.addEventListener('click', () => {
            if (navigator.share) {
                navigator.share({
                    title: modalTitle.textContent,
                    text: 'Check out this devotional from NEBC Teens Hub!',
                    url: window.location.href,
                })
                .catch(error => console.log('Error sharing:', error));
            } else {
                // Fallback for browsers that don't support Web Share API
                alert('Share this devotional with your friends!');
            }
        });
        
        // Send response
        sendResponse.addEventListener('click', handleSendResponse);
        
        // Success modal OK button
        okBtn.addEventListener('click', () => {
            successModal.classList.remove('active');
        });
        
        // Theme toggle
        themeToggle.addEventListener('click', toggleTheme);
    }

    // Handle bookmark click
    function handleBookmark(e) {
        e.stopPropagation();
        const devotionalId = parseInt(this.dataset.id);
        const index = bookmarkedDevotionals.indexOf(devotionalId);
        
        if (index === -1) {
            // Bookmark the devotional
            bookmarkedDevotionals.push(devotionalId);
            this.classList.add('bookmarked');
            this.innerHTML = '<i class="fas fa-bookmark"></i>';
        } else {
            // Remove bookmark
            bookmarkedDevotionals.splice(index, 1);
            this.classList.remove('bookmarked');
            this.innerHTML = '<i class="far fa-bookmark"></i>';
        }
        
        // Update localStorage
        localStorage.setItem('bookmarkedDevotionals', JSON.stringify(bookmarkedDevotionals));
    }

    // Handle modal bookmark
    function handleModalBookmark() {
        const currentDevotional = getCurrentModalDevotional();
        if (!currentDevotional) return;
        
        const devotionalId = currentDevotional.id;
        const index = bookmarkedDevotionals.indexOf(devotionalId);
        
        if (index === -1) {
            // Bookmark the devotional
            bookmarkedDevotionals.push(devotionalId);
            this.classList.add('bookmarked');
            this.innerHTML = '<i class="fas fa-bookmark"></i> Bookmarked';
        } else {
            // Remove bookmark
            bookmarkedDevotionals.splice(index, 1);
            this.classList.remove('bookmarked');
            this.innerHTML = '<i class="far fa-bookmark"></i> Bookmark';
        }
        
        // Update localStorage
        localStorage.setItem('bookmarkedDevotionals', JSON.stringify(bookmarkedDevotionals));
        
        // Update bookmark in grid
        const gridBookmark = document.querySelector(`.bookmark-btn[data-id="${devotionalId}"]`);
        if (gridBookmark) {
            if (index === -1) {
                gridBookmark.classList.add('bookmarked');
                gridBookmark.innerHTML = '<i class="fas fa-bookmark"></i>';
            } else {
                gridBookmark.classList.remove('bookmarked');
                gridBookmark.innerHTML = '<i class="far fa-bookmark"></i>';
            }
        }
    }

    // Handle read devotional
    function handleReadDevotional(e) {
        e.stopPropagation();
        const devotionalId = parseInt(this.dataset.id);
        const devotional = devotionals.find(d => d.id === devotionalId);
        
        if (devotional) {
            openDevotionalModal(devotional);
        }
    }

    // Open devotional modal
    function openDevotionalModal(devotional) {
        modalTitle.textContent = devotional.title;
        modalImage.style.backgroundImage = `url('${devotional.image}')`;
        modalScripture.textContent = `"${devotional.scripture}"`;
        modalText.innerHTML = devotional.content.split('\n').map(p => `<p>${p}</p>`).join('');
        
        // Update bookmark button state
        const isBookmarked = bookmarkedDevotionals.includes(devotional.id);
        modalBookmark.classList.toggle('bookmarked', isBookmarked);
        modalBookmark.innerHTML = isBookmarked 
            ? '<i class="fas fa-bookmark"></i> Bookmarked' 
            : '<i class="far fa-bookmark"></i> Bookmark';
        
        // Store current devotional ID in modal for bookmarking
        modalBookmark.dataset.id = devotional.id;
        
        devotionalModal.classList.add('active');
    }

    // Get current modal devotional
    function getCurrentModalDevotional() {
        const devotionalId = parseInt(modalBookmark.dataset.id);
        return devotionals.find(d => d.id === devotionalId);
    }

    // Handle quiz answer
    function handleQuizAnswer(quizOption) {
        if (quizAnswered) return;

        const isCorrect = quizOption.dataset.correct === 'true';
        const currentCard = quizOption.closest('.quiz-card');
        if (!currentCard) return;

        // Clear all options in this card
        const allOptions = currentCard.querySelectorAll('.quiz-option');
        allOptions.forEach(opt => {
            opt.classList.remove('correct', 'incorrect');
        });

        // Mark the selected option
        quizOption.classList.add(isCorrect ? 'correct' : 'incorrect');

        // If wrong, show correct answer
        if (!isCorrect) {
            const correctOpt = currentCard.querySelector('[data-correct="true"]');
            if (correctOpt) {
                correctOpt.classList.add('correct');
            }
        }

        // Celebrate if correct
        if (isCorrect && typeof confetti !== 'undefined') {
            confetti({
                particleCount: 150,
                spread: 70,
                origin: { y: 0.6 }
            });
        }

        quizAnswered = true;

        // Advance to next question after 2 seconds
        setTimeout(() => {
            if (currentQuizIndex < quizQuestions.length - 1) {
                currentQuizIndex++;
                showQuizQuestion(currentQuizIndex);
                quizAnswered = false;
            } else {
                // Quiz done, reset after 3 seconds
                setTimeout(() => {
                    currentQuizIndex = 0;
                    showQuizQuestion(currentQuizIndex);
                    quizAnswered = false;
                }, 3000);
            }
        }, 2000);
    }

    // Show specific quiz question
    function showQuizQuestion(index) {
        // Hide all cards, show active one
        document.querySelectorAll('.quiz-card').forEach((card, i) => {
            card.classList.toggle('active', i === index);
            // Clear answer classes from all cards
            card.querySelectorAll('.quiz-option').forEach(opt => {
                opt.classList.remove('correct', 'incorrect');
            });
        });

        // Update progress dots
        document.querySelectorAll('.progress-dot').forEach((dot, i) => {
            dot.classList.toggle('active', i === index);
        });

        currentQuizIndex = index;
    }
    

    // Handle send response
    function handleSendResponse() {
        const responseInput = document.querySelector('.response-input');
        const response = responseInput.value.trim();
        
        if (response === '') {
            alert('Please share your thoughts before sending!');
            return;
        }
        
        // In a real app, you would send this to a server
        // For now, we'll just show a success message
        
        // Show success modal
        document.getElementById('successMessage').textContent = 'Your response has been sent successfully!';
        successModal.classList.add('active');
        
        // Clear the input
        responseInput.value = '';
    }

    // Start fun facts rotation
    function startFunFactsRotation() {
        const funFacts = document.querySelectorAll('.fun-fact');
        let currentIndex = 0;
        
        setInterval(() => {
            funFacts[currentIndex].classList.remove('active');
            currentIndex = (currentIndex + 1) % funFacts.length;
            funFacts[currentIndex].classList.add('active');
        }, 5000);
    }

    // Toggle theme
    function toggleTheme() {
        document.body.classList.toggle('light-mode');
        if (document.body.classList.contains('light-mode')) {
            themeIcon.classList.remove('fa-sun');
            themeIcon.classList.add('fa-moon');
        } else {
            themeIcon.classList.remove('fa-moon');
            themeIcon.classList.add('fa-sun');
        }
    }

    // Initialize the page when DOM is loaded
    document.addEventListener('DOMContentLoaded', initPage);


    </script>

</body>
</html>